# Инструкция по тестированию функциональности управления специальностями

## Предварительные требования

1. Запущенные контейнеры Docker (admin, bot, postgres)
2. Доступ к админ-панели (логин и пароль администратора)

## Шаги для тестирования

### 1. Авторизация в админ-панели

1. Откройте браузер и перейдите по адресу http://localhost:8000
2. Введите учетные данные администратора
3. После успешной авторизации вы должны увидеть главную страницу админ-панели

### 2. Просмотр списка специальностей

1. В боковом меню найдите и нажмите на пункт "Специальности"
2. Должна открыться страница со списком всех специальностей
3. Проверьте, что отображаются все существующие специальности с информацией:
   - ID
   - Название
   - Описание
   - Статус (активна/неактивна)
   - Кнопки действий (просмотр, редактирование, удаление)

### 3. Создание новой специальности

1. На странице списка специальностей нажмите кнопку "Добавить специальность"
2. В открывшемся модальном окне заполните поля:
   - Название специальности (обязательное поле)
   - Описание (опционально)
   - Статус (активна/неактивна)
3. Нажмите кнопку "Сохранить"
4. Проверьте, что новая специальность появилась в списке

### 4. Просмотр детальной информации о специальности

1. В списке специальностей нажмите на название специальности или кнопку "Просмотр"
2. Должна открыться страница с детальной информацией о специальности
3. Проверьте, что отображается:
   - Название специальности
   - Описание
   - Статус
   - Список мастеров с этой специальностью (если есть)

### 5. Редактирование специальности

1. На странице детальной информации о специальности нажмите кнопку "Редактировать"
2. В открывшемся модальном окне измените нужные поля
3. Нажмите кнопку "Сохранить"
4. Проверьте, что изменения сохранились и отображаются на странице

### 6. Добавление мастера к специальности

1. На странице детальной информации о специальности нажмите кнопку "Добавить мастеров"
2. В открывшемся модальном окне выберите мастеров из списка доступных
3. Нажмите кнопку "Добавить выбранных мастеров"
4. Проверьте, что выбранные мастера появились в списке мастеров с этой специальностью

### 7. Удаление мастера из специальности

1. На странице детальной информации о специальности найдите мастера в списке
2. Нажмите кнопку "Удалить" рядом с мастером
3. Подтвердите удаление в модальном окне
4. Проверьте, что мастер исчез из списка мастеров с этой специальностью

### 8. Удаление специальности

1. На странице детальной информации о специальности нажмите кнопку "Удалить"
2. Подтвердите удаление в модальном окне
3. Проверьте, что произошел редирект на страницу списка специальностей
4. Убедитесь, что удаленная специальность отсутствует в списке

## Проверка API-эндпоинтов (для разработчиков)

Для тестирования API-эндпоинтов необходимо сначала получить токен авторизации:

```bash
# Получение токена авторизации
curl -X POST http://localhost:8000/token -d "username=admin_username&password=admin_password" -H "Content-Type: application/x-www-form-urlencoded"
```

Затем использовать полученный токен для запросов к API:

```bash
# Получение списка специальностей
curl -H "Authorization: Bearer YOUR_TOKEN" http://localhost:8000/api/specialties

# Создание новой специальности
curl -X POST -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d '{"name":"Новая специальность","description":"Описание","is_active":true}' http://localhost:8000/api/specialties

# Обновление специальности
curl -X PUT -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d '{"name":"Обновленное название","description":"Новое описание","is_active":true}' http://localhost:8000/api/specialties/1

# Удаление специальности
curl -X DELETE -H "Authorization: Bearer YOUR_TOKEN" http://localhost:8000/api/specialties/1

# Обновление специальностей мастера
curl -X POST -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d '{"specialty_ids":[1,2,3]}' http://localhost:8000/api/masters/1/specialties

# Получение специальностей мастера
curl -H "Authorization: Bearer YOUR_TOKEN" http://localhost:8000/api/masters/1/specialties
```

## Возможные проблемы и их решение

1. **Ошибка 401 Unauthorized**: Убедитесь, что вы авторизованы в системе. Возможно, истек срок действия сессии.

2. **Ошибка 403 Forbidden**: Проверьте, что ваш пользователь имеет роль администратора.

3. **Ошибка 404 Not Found**: Проверьте правильность URL или существование запрашиваемого ресурса.

4. **Ошибка 400 Bad Request**: Проверьте корректность отправляемых данных.

5. **Не отображаются изменения после сохранения**: Попробуйте обновить страницу (F5).

6. **JavaScript-ошибки в консоли браузера**: Проверьте консоль разработчика (F12) для выявления проблем с JavaScript-кодом.
